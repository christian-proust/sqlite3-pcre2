<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="800px" preserveAspectRatio="none" style="width:560px;height:800px;background:#FFFFFF;" version="1.1" viewBox="0 0 560 800" width="560px" zoomAndPan="magnify"><defs><filter height="300%" id="fk2f7xq17u2op" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="378" cy="20" fill="#000000" filter="url(#fk2f7xq17u2op)" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><rect fill="#FFFFFF" filter="url(#fk2f7xq17u2op)" height="701.3472" style="stroke:#000000;stroke-width:2.0;" width="532" x="11" y="40"/><path d="M65,40 L65,49.2969 L55,59.2969 L11,59.2969 " fill="none" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44" x="14" y="53.9951">run.sh</text><polygon fill="#FEFECE" filter="url(#fk2f7xq17u2op)" points="291,76.2969,465,76.2969,475,100.2656,465,124.2344,291,124.2344" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="154" x="301" y="97.4355">Insert into testcampaign</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="97" x="301" y="111.4043">(lib, started_at)</text><polygon fill="#FEFECE" filter="url(#fk2f7xq17u2op)" points="257,199.9448,509,199.9448,499,230.8979,509,261.8511,257,261.8511" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="222" x="267" y="221.0835">Select id, execute_sql, evaluate_sql</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="87" x="267" y="235.0522">from testcase</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="90" x="267" y="249.021">where id=next</text><polygon fill="#FEFECE" filter="url(#fk2f7xq17u2op)" points="302,281.8511,454,281.8511,464,298.8354,454,315.8198,302,315.8198" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="132" x="312" y="302.9897">Insert into testreport</text><rect fill="#FFFFFF" filter="url(#fk2f7xq17u2op)" height="177.7148" style="stroke:#000000;stroke-width:2.0;" width="476" x="39" y="325.8198"/><path d="M152,325.8198 L152,335.1167 L142,345.1167 L39,345.1167 " fill="none" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="42" y="339.8149">Test Execution</text><path d="M59,365.605 L59,481.5347 L251,481.5347 L251,375.605 L241,365.605 L59,365.605 " fill="#FBFB77" filter="url(#fk2f7xq17u2op)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M241,365.605 L241,375.605 L251,375.605 L241,365.605 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="65" y="382.6719">The Test Execution is run</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="65" y="397.8047">with a separate and single</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="65" y="412.9375">SQLite connection.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="10" x="65" y="428.0703">--</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="65" y="443.2031">The process standard</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="65" y="458.3359">output, error and exit</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="65" y="473.4688">code are recorded.</text><polygon fill="#FEFECE" filter="url(#fk2f7xq17u2op)" points="353.5,365.1167,412.5,365.1167,402.5,399.0854,343.5,399.0854" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="49" x="353.5" y="386.2554">.load lib</text><polygon fill="#FEFECE" filter="url(#fk2f7xq17u2op)" points="261,434.0854,495,434.0854,505,458.0542,495,482.0229,261,482.0229" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="114" x="271" y="455.2241">Update testreport</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="214" x="271" y="469.1929">set report_value = ((execute_sql))</text><polygon fill="#FEFECE" filter="url(#fk2f7xq17u2op)" points="279,523.5347,477,523.5347,487,547.5034,477,571.4722,279,571.4722" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="114" x="289" y="544.6733">Update testreport</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="178" x="289" y="558.6421">set stdout, stderr, exit_code</text><polygon fill="#FEFECE" filter="url(#fk2f7xq17u2op)" points="265.5,591.4722,490.5,591.4722,500.5,615.4409,490.5,639.4097,265.5,639.4097" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="114" x="275.5" y="612.6108">Update testreport</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="205" x="275.5" y="626.5796">set evaluation = ((evaluate_sql))</text><polygon fill="#FEFECE" filter="url(#fk2f7xq17u2op)" points="327,144.2344,429,144.2344,441,156.2344,429,168.2344,327,168.2344,315,156.2344,327,144.2344" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="382" y="178.4448">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="102" x="327" y="160.0425">has next testcase</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="14" x="301" y="153.6401">no</text><polygon fill="#FEFECE" filter="url(#fk2f7xq17u2op)" points="300.5,681.4097,455.5,681.4097,465.5,705.3784,455.5,729.3472,300.5,729.3472" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="135" x="310.5" y="702.5483">update testcampaign</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="83" x="310.5" y="716.5171">set ended_at</text><ellipse cx="378" cy="772.3472" fill="#FFFFFF" filter="url(#fk2f7xq17u2op)" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><ellipse cx="378" cy="772.3472" fill="#000000" rx="6" ry="6" style="stroke:#7F7F7F;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="378" x2="378" y1="261.8511" y2="281.8511"/><polygon fill="#A80036" points="374,271.8511,378,281.8511,382,271.8511,378,275.8511" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="378" x2="378" y1="399.0854" y2="434.0854"/><polygon fill="#A80036" points="374,424.0854,378,434.0854,382,424.0854,378,428.0854" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="378" x2="378" y1="315.8198" y2="365.1167"/><polygon fill="#A80036" points="374,355.1167,378,365.1167,382,355.1167,378,359.1167" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="378" x2="378" y1="482.0229" y2="523.5347"/><polygon fill="#A80036" points="374,513.5347,378,523.5347,382,513.5347,378,517.5347" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="378" x2="378" y1="571.4722" y2="591.4722"/><polygon fill="#A80036" points="374,581.4722,378,591.4722,382,581.4722,378,585.4722" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="378" x2="378" y1="168.2344" y2="199.9448"/><polygon fill="#A80036" points="374,189.9448,378,199.9448,382,189.9448,378,193.9448" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="378" x2="378" y1="639.4097" y2="649.4097"/><line style="stroke:#A80036;stroke-width:1.5;" x1="378" x2="527" y1="649.4097" y2="649.4097"/><polygon fill="#A80036" points="523,407.019,527,397.019,531,407.019,527,403.019" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="527" x2="527" y1="156.2344" y2="649.4097"/><line style="stroke:#A80036;stroke-width:1.5;" x1="527" x2="441" y1="156.2344" y2="156.2344"/><polygon fill="#A80036" points="451,152.2344,441,156.2344,451,160.2344,447,156.2344" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="315" x2="27" y1="156.2344" y2="156.2344"/><polygon fill="#A80036" points="23,393.019,27,403.019,31,393.019,27,397.019" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="27" x2="27" y1="156.2344" y2="661.4097"/><line style="stroke:#A80036;stroke-width:1.5;" x1="27" x2="378" y1="661.4097" y2="661.4097"/><line style="stroke:#A80036;stroke-width:1.5;" x1="378" x2="378" y1="661.4097" y2="681.4097"/><polygon fill="#A80036" points="374,671.4097,378,681.4097,382,671.4097,378,675.4097" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="378" x2="378" y1="124.2344" y2="144.2344"/><polygon fill="#A80036" points="374,134.2344,378,144.2344,382,134.2344,378,138.2344" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="378" x2="378" y1="30" y2="76.2969"/><polygon fill="#A80036" points="374,66.2969,378,76.2969,382,66.2969,378,70.2969" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="378" x2="378" y1="729.3472" y2="761.3472"/><polygon fill="#A80036" points="374,751.3472,378,761.3472,382,751.3472,378,755.3472" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[afecc4a6037e5db00df2a90e4cfd4a5c]
@startuml test-run
start

group run.sh
    :Insert into testcampaign
    (lib, started_at)>
    
    while (has next testcase) is (yes)
        :Select id, execute_sql, evaluate_sql
        from testcase
        where id=next<
        :Insert into testreport>
        partition "Test Execution" {
            note
                The Test Execution is run 
                with a separate and single 
                SQLite connection.
                - -
                The process standard 
                output, error and exit 
                code are recorded.
            end note
            :.load lib/
            :Update testreport
            set report_value = ((execute_sql))>
        }
        :Update testreport
        set stdout, stderr, exit_code>
        :Update testreport
        set evaluation = ((evaluate_sql))>
    endwhile (no)

    :update testcampaign
    set ended_at>
end group

stop
@enduml

PlantUML version 1.2021.16(Wed Dec 08 18:25:22 CET 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: fr
Country: FR
--></g></svg>