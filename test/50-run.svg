<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="800px" preserveAspectRatio="none" style="width:556px;height:800px;background:#FFFFFF;" version="1.1" viewBox="0 0 556 800" width="556px" zoomAndPan="magnify"><defs><filter height="300%" id="fewzh0oiw7amb" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="374" cy="20" fill="#000000" filter="url(#fewzh0oiw7amb)" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><rect fill="#FFFFFF" filter="url(#fewzh0oiw7amb)" height="701.3472" style="stroke:#000000;stroke-width:2.0;" width="528" x="11" y="40"/><path d="M65,40 L65,49.2969 L55,59.2969 L11,59.2969 " fill="none" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44" x="14" y="53.9951">run.sh</text><polygon fill="#FEFECE" filter="url(#fewzh0oiw7amb)" points="287,76.2969,461,76.2969,471,100.2656,461,124.2344,287,124.2344" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="154" x="297" y="97.4355">Insert into testcampaign</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="97" x="297" y="111.4043">(lib, started_at)</text><polygon fill="#FEFECE" filter="url(#fewzh0oiw7amb)" points="253,199.9448,505,199.9448,495,230.8979,505,261.8511,253,261.8511" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="222" x="263" y="221.0835">Select id, execute_sql, evaluate_sql</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="87" x="263" y="235.0522">from testcase</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="90" x="263" y="249.021">where id=next</text><polygon fill="#FEFECE" filter="url(#fewzh0oiw7amb)" points="298,281.8511,450,281.8511,460,298.8354,450,315.8198,298,315.8198" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="132" x="308" y="302.9897">Insert into testreport</text><rect fill="#FFFFFF" filter="url(#fewzh0oiw7amb)" height="177.7148" style="stroke:#000000;stroke-width:2.0;" width="472" x="39" y="325.8198"/><path d="M152,325.8198 L152,335.1167 L142,345.1167 L39,345.1167 " fill="none" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="42" y="339.8149">Test Execution</text><path d="M59,365.605 L59,481.5347 L247,481.5347 L247,375.605 L237,365.605 L59,365.605 " fill="#FBFB77" filter="url(#fewzh0oiw7amb)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M237,365.605 L237,375.605 L247,375.605 L237,365.605 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="65" y="382.6719">The Test Execution is run</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="65" y="397.8047">with a separate and single</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="65" y="412.9375">SQLite connection.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="10" x="65" y="428.0703">--</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="65" y="443.2031">The process standard</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="65" y="458.3359">output, error and exit</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="65" y="473.4688">code are recorded.</text><polygon fill="#FEFECE" filter="url(#fewzh0oiw7amb)" points="349.5,365.1167,408.5,365.1167,398.5,399.0854,339.5,399.0854" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="49" x="349.5" y="386.2554">.load lib</text><polygon fill="#FEFECE" filter="url(#fewzh0oiw7amb)" points="257,434.0854,491,434.0854,501,458.0542,491,482.0229,257,482.0229" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="114" x="267" y="455.2241">Update testreport</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="214" x="267" y="469.1929">set report_value = ((execute_sql))</text><polygon fill="#FEFECE" filter="url(#fewzh0oiw7amb)" points="275,523.5347,473,523.5347,483,547.5034,473,571.4722,275,571.4722" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="114" x="285" y="544.6733">Update testreport</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="178" x="285" y="558.6421">set stdout, stderr, exit_code</text><polygon fill="#FEFECE" filter="url(#fewzh0oiw7amb)" points="261.5,591.4722,486.5,591.4722,496.5,615.4409,486.5,639.4097,261.5,639.4097" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="114" x="271.5" y="612.6108">Update testreport</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="205" x="271.5" y="626.5796">set evaluation = ((evaluate_sql))</text><polygon fill="#FEFECE" filter="url(#fewzh0oiw7amb)" points="323,144.2344,425,144.2344,437,156.2344,425,168.2344,323,168.2344,311,156.2344,323,144.2344" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="378" y="178.4448">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="102" x="323" y="160.0425">has next testcase</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="14" x="297" y="153.6401">no</text><polygon fill="#FEFECE" filter="url(#fewzh0oiw7amb)" points="296.5,681.4097,451.5,681.4097,461.5,705.3784,451.5,729.3472,296.5,729.3472" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="135" x="306.5" y="702.5483">update testcampaign</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="83" x="306.5" y="716.5171">set ended_at</text><ellipse cx="374" cy="772.3472" fill="#FFFFFF" filter="url(#fewzh0oiw7amb)" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><ellipse cx="374" cy="772.3472" fill="#000000" rx="6" ry="6" style="stroke:#7F7F7F;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="374" x2="374" y1="261.8511" y2="281.8511"/><polygon fill="#A80036" points="370,271.8511,374,281.8511,378,271.8511,374,275.8511" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="374" x2="374" y1="399.0854" y2="434.0854"/><polygon fill="#A80036" points="370,424.0854,374,434.0854,378,424.0854,374,428.0854" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="374" x2="374" y1="315.8198" y2="365.1167"/><polygon fill="#A80036" points="370,355.1167,374,365.1167,378,355.1167,374,359.1167" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="374" x2="374" y1="482.0229" y2="523.5347"/><polygon fill="#A80036" points="370,513.5347,374,523.5347,378,513.5347,374,517.5347" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="374" x2="374" y1="571.4722" y2="591.4722"/><polygon fill="#A80036" points="370,581.4722,374,591.4722,378,581.4722,374,585.4722" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="374" x2="374" y1="168.2344" y2="199.9448"/><polygon fill="#A80036" points="370,189.9448,374,199.9448,378,189.9448,374,193.9448" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="374" x2="374" y1="639.4097" y2="649.4097"/><line style="stroke:#A80036;stroke-width:1.5;" x1="374" x2="523" y1="649.4097" y2="649.4097"/><polygon fill="#A80036" points="519,407.019,523,397.019,527,407.019,523,403.019" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="523" x2="523" y1="156.2344" y2="649.4097"/><line style="stroke:#A80036;stroke-width:1.5;" x1="523" x2="437" y1="156.2344" y2="156.2344"/><polygon fill="#A80036" points="447,152.2344,437,156.2344,447,160.2344,443,156.2344" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="311" x2="27" y1="156.2344" y2="156.2344"/><polygon fill="#A80036" points="23,393.019,27,403.019,31,393.019,27,397.019" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="27" x2="27" y1="156.2344" y2="661.4097"/><line style="stroke:#A80036;stroke-width:1.5;" x1="27" x2="374" y1="661.4097" y2="661.4097"/><line style="stroke:#A80036;stroke-width:1.5;" x1="374" x2="374" y1="661.4097" y2="681.4097"/><polygon fill="#A80036" points="370,671.4097,374,681.4097,378,671.4097,374,675.4097" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="374" x2="374" y1="124.2344" y2="144.2344"/><polygon fill="#A80036" points="370,134.2344,374,144.2344,378,134.2344,374,138.2344" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="374" x2="374" y1="30" y2="76.2969"/><polygon fill="#A80036" points="370,66.2969,374,76.2969,378,66.2969,374,70.2969" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="374" x2="374" y1="729.3472" y2="761.3472"/><polygon fill="#A80036" points="370,751.3472,374,761.3472,378,751.3472,374,755.3472" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[c79c0438b72c7b9ed9f9b610c1f0fc1a]
@startuml
start

group run.sh
    :Insert into testcampaign
    (lib, started_at)>

    while (has next testcase) is (yes)
        :Select id, execute_sql, evaluate_sql
        from testcase
        where id=next<
        :Insert into testreport>
        partition "Test Execution" {
            note
                The Test Execution is run
                with a separate and single
                SQLite connection.
                - -
                The process standard
                output, error and exit
                code are recorded.
            end note
            :.load lib/
            :Update testreport
            set report_value = ((execute_sql))>
        }
        :Update testreport
        set stdout, stderr, exit_code>
        :Update testreport
        set evaluation = ((evaluate_sql))>
    endwhile (no)

    :update testcampaign
    set ended_at>
end group

stop
@enduml

PlantUML version 1.2021.16(Wed Dec 08 18:25:22 CET 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: fr
Country: FR
--></g></svg>